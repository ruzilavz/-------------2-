<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="AVZALØV — музыка, релизы, сцена и библиотека треков с ранним доступом." />
  <title>AVZALØV · музыка · сцена</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header class="site-header">
    <div class="logo">AVZALØV</div>
    <nav class="main-nav" id="mainNav" aria-label="Основное меню">
      <a href="#hero">Главная</a>
      <a href="#music">Музыка</a>
      <a href="#game">Игра</a>
      <a href="#profile">Профиль</a>
    </nav>
    <button class="nav-toggle" id="navToggle" aria-label="Открыть меню" aria-controls="mainNav" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="header-actions">
      <div class="header-clock" id="headerClock">—</div>
      <button class="pill glass" id="newsModalBtn" aria-label="Новости">Новости</button>
      <button class="icon ghost" id="chatLauncher" aria-label="Открыть чат" title="Чат">
        <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
          <path
            fill="currentColor"
            d="M5 4h14a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H8l-4 4V6a2 2 0 0 1 2-2Zm0 2v9.17L6.17 14H19V6H5Zm3 4h8v2H8v-2Zm0-4h8v2H8V6Z"
          />
        </svg>
        <span class="icon-label">Чат</span>
      </button>
      <div class="chip pill" id="roleChip">Вход на сайт · гость</div>
      <button class="btn ghost" id="openProfile">Профиль</button>
    </div>
  </header>

  <main class="page">
    <section id="hero" class="hero">
      <div class="hero__text">
        <p class="eyebrow">музыка · релизы · сцена</p>
        <h1>AVZALØV — артист и музыкант, главная сцена здесь</h1>
        <p class="lede">
          Вся библиотека треков с обложками, датами релизов и ранним доступом снова на месте. Плеер и чат остаются
          удобными дополнениями — главное здесь музыка и релизы.
        </p>
        <div class="hero__actions">
          <button class="btn primary" id="ctaPlay">Слушать лучшие треки</button>
          <button class="btn outline" id="ctaChat">Открыть чат</button>
          <button class="btn ghost" id="ctaGame">Запуск игры</button>
        </div>
        <div class="hero__tags">
          <span>trap</span><span>tatar</span><span>experimental</span><span>live</span><span>studio</span>
        </div>
        <div class="hero__stats">
          <div><p class="label">Треков в базе</p><p class="value" id="tracksCount">—</p></div>
          <div><p class="label">Готовы к прослушиванию</p><p class="value" id="playableCount">—</p></div>
          <div><p class="label">Ранний доступ</p><p class="value" id="earlyCount">—</p></div>
          <div><p class="label">Время и дата</p><p class="value" id="clock">—</p></div>
        </div>
      </div>
      <div class="hero__card">
        <div class="hero__avatar">AV</div>
        <div class="hero__meta">
          <p class="label">Следующий релиз</p>
          <p class="value" id="nextRelease">Скоро</p>
          <div class="chip chip--soon">Early access</div>
        </div>
        <div class="grid-mini">
          <div class="pill glass">Чарт · обновляется</div>
          <div class="pill glass">Профиль · роли</div>
          <div class="pill glass">Чат для слушателей</div>
          <div class="pill glass">RUZCOIN · 128</div>
        </div>
      </div>
    </section>

    <section class="ticker" aria-label="Лента новостей">
      <div class="ticker__title">AVZALØV NEWS</div>
      <div class="ticker__items" id="newsTicker">Свежие новости артиста появляются здесь...</div>
      <button class="pill ghost" id="newsTickerBtn">Открыть ленту</button>
    </section>

    <section class="section" id="music">
      <div class="section__header">
        <div>
          <h2>Слушай треки с обложками и датами</h2>
          <p>Каждый релиз подтягивается из tracks-data.js — даты, статусы и доступы сохраняются.</p>
        </div>
        <div class="filters">
          <label class="filter">
            <span>Фильтр доступа</span>
            <select id="accessFilter">
              <option value="all">Все</option>
              <option value="early-access">Early access</option>
              <option value="open">Открытые</option>
            </select>
          </label>
          <label class="filter">
            <span>Язык</span>
            <select id="languageFilter">
              <option value="all">Любой</option>
              <option value="ru">Русский</option>
              <option value="tt">Татарский</option>
              <option value="en">English</option>
            </select>
          </label>
          <button class="btn ghost" id="chartOpenBtn">Чарт и динамика</button>
        </div>
      </div>
      <div class="chart" id="tracksList"></div>
    </section>

    <section class="section two-column" id="profile">
      <div class="panel">
        <h2>Профиль и вход</h2>
        <p class="muted">Аватар, подарочные коды, роли и ID сохраняются в users.json (локально для устройства).</p>
        <div class="profile__card profile__card--wide">
          <div class="avatar" id="profileAvatar" aria-label="Аватар пользователя"></div>
          <div>
            <p class="label">Профиль</p>
            <h3 id="profileName">Гость</h3>
            <p class="muted" id="profileMeta">ID: — · уровень — · RUZCOIN: 0</p>
            <p class="tiny" id="profileToken">Токен: —</p>
          </div>
        </div>
        <div class="badges" id="roleBadges"></div>
        <div class="profile-actions">
          <button class="btn primary" id="loginModalBtn">Войти / роли</button>
          <button class="btn ghost" id="settingsModalBtn">Настройки профиля</button>
          <button class="pill" id="vkLogin">Вход через ВК</button>
          <button class="pill" id="gmailLogin">Вход через Gmail</button>
        </div>
        <div class="profile-forms">
          <div class="field">
            <label for="nameInput">Имя в профиле</label>
            <input type="text" id="nameInput" placeholder="Укажите имя" />
            <p class="tiny" id="nameWarning">Имя можно изменить только один раз. После сохранения поле заблокируется.</p>
            <button class="btn outline" id="saveNameBtn">Сохранить имя</button>
          </div>
          <div class="field">
            <label for="avatarInput">Загрузить аватар (круг)</label>
            <input type="file" id="avatarInput" accept="image/*" />
          </div>
          <div class="field">
            <label for="giftCodeInput">Подарочный код</label>
            <div class="gift-row">
              <input type="text" id="giftCodeInput" placeholder="Ввести промокод" />
              <button class="btn primary" id="giftCodeBtn">Активировать</button>
            </div>
            <p class="tiny" id="giftStatus">Коды начисляют монеты и ранний доступ.</p>
          </div>
        </div>
        <div class="contacts">
          <h4>Связь с артистом</h4>
          <div class="contact-links">
            <a href="mailto:avzalov.music@gmail.com" class="pill">Почта</a>
            <a href="https://t.me/avzalov" target="_blank" rel="noreferrer" class="pill">Telegram</a>
            <a href="https://wa.me/79000000000" target="_blank" rel="noreferrer" class="pill">WhatsApp</a>
          </div>
          <p class="muted tiny">Можно отправить заявку на коллаб, вопросы по релизам и ссылки на площадки.</p>
        </div>
      </div>
      <div class="panel" id="game">
        <h2>Игровая панель</h2>
        <p class="muted">Мини-дашборд для Idle Game: уровни, токены и события.</p>
        <div class="stat-grid">
          <div class="stat-card">
            <p class="label">Уровень</p>
            <p class="value" id="levelStat">12</p>
            <span class="chip">Опыт растёт</span>
          </div>
          <div class="stat-card">
            <p class="label">RUZCOIN</p>
            <p class="value" id="ruzBalance">128</p>
            <span class="chip">Баланс</span>
          </div>
          <div class="stat-card">
            <p class="label">Ачивки</p>
            <p class="value">7</p>
            <span class="chip">Открыто</span>
          </div>
          <div class="stat-card">
            <p class="label">События</p>
            <p class="value">3</p>
            <span class="chip">Live</span>
          </div>
        </div>
        <div class="game-actions">
          <button class="btn outline" id="gameStart">Стартовать матч</button>
          <button class="btn ghost" id="gameRewards">Забрать награды</button>
          <button class="btn ghost" id="gamePlatforms">Площадки</button>
        </div>
        <div class="muted tiny">Здесь можно отслеживать события, активировать турниры и выгружать статистику по RUZCOIN.</div>
      </div>
    </section>
  </main>

  <section class="player-dock" id="playerDock">
    <div class="player-drag" id="playerHandle" aria-label="Перетащить плеер" title="Перетащить">⇲</div>
    <div class="player-row">
      <div class="player-meta">
        <img id="playerCover" src="img/background.jpg" alt="Обложка трека" />
        <div class="player-meta__info">
          <p class="label" id="playerStatus">Плеер готов</p>
          <h3 id="playerTitle">Выберите трек</h3>
          <p class="muted" id="playerInfo">Даты релиза, статусы и авторские права подтягиваются автоматически.</p>
          <div class="player-insight">
            <span class="chip chip--compact" id="playerAccess">Доступ</span>
            <span class="chip chip--compact" id="playerLanguages">Языки</span>
            <span class="chip chip--compact" id="playerPlays">Прослушивания</span>
          </div>
          <div class="platforms" id="platformLinks">
            <span class="chip">Yandex Music</span>
            <span class="chip">VK Музыка</span>
            <span class="chip">Apple Music</span>
          </div>
        </div>
      </div>
      <div class="player-controls">
        <div class="buttons buttons--icons">
          <button class="icon-btn ghost" id="prevBtn" aria-label="Предыдущий трек">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 12L17 5v14L7 12Zm-2-7h2v14H5V5Z" fill="currentColor"/></svg>
            <span class="sr-only">Предыдущий</span>
          </button>
          <button class="icon-btn primary" id="playBtn" aria-label="Пуск/Пауза">
            <svg class="icon-play" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5.14 19 12 8 18.86V5.14Z" fill="currentColor"/></svg>
            <svg class="icon-pause" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 5h4v14H7V5Zm6 0h4v14h-4V5Z" fill="currentColor"/></svg>
            <span class="sr-only">Пуск</span>
          </button>
          <button class="icon-btn ghost" id="nextBtn" aria-label="Следующий трек">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M5 19V5l10 7-10 7Zm12-14h2v14h-2V5Z" fill="currentColor"/></svg>
            <span class="sr-only">Следующий</span>
          </button>
          <button class="icon-btn ghost" id="repeatBtn" aria-label="Повтор">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M17 2v2H7a5 5 0 0 0-5 5v3h2V9a3 3 0 0 1 3-3h10v2l4-3-4-3Zm0 11v2H7l-4 3 4 3v-2h10a5 5 0 0 0 5-5v-3h-2v3a3 3 0 0 1-3 3Z" fill="currentColor"/></svg>
            <span class="sr-only">Повтор</span>
          </button>
          <button class="icon-btn ghost" id="muteBtn" aria-label="Звук">
            <svg class="mute-on" viewBox="0 0 24 24" aria-hidden="true"><path d="M5 9v6h4l5 5V4L9 9H5Z" fill="currentColor"/><path d="m18.5 12 3 3-1.5 1.5-3-3-3 3L12.5 15l3-3-3-3L14 7.5l3 3 3-3L21.5 9l-3 3Z" fill="currentColor"/></svg>
            <svg class="mute-off" viewBox="0 0 24 24" aria-hidden="true"><path d="M5 9v6h4l5 5V4L9 9H5Z" fill="currentColor"/></svg>
            <span class="sr-only">Звук</span>
          </button>
        </div>
        <div class="timeline">
          <span id="currentTime">0:00</span>
          <div class="timeline__track">
            <input type="range" id="progress" min="0" max="100" value="0" aria-label="Позиция трека" />
            <div class="timeline__bar"></div>
          </div>
          <span id="duration">0:00</span>
        </div>
        <div class="player-sub">
          <label class="volume" aria-label="Громкость">
            <span>Громкость</span>
            <input type="range" id="volume" min="0" max="1" step="0.01" value="1" />
          </label>
          <div class="pill" id="releaseBadge">Статус трека</div>
        </div>
      </div>
    </div>
    <div class="playlist" id="playlist"></div>
    <audio id="audio"></audio>
  </section>

  <div class="modal" id="loginModal" aria-hidden="true">
    <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
      <button class="modal__close" data-close="loginModal" aria-label="Закрыть">×</button>
      <h3 id="loginTitle">Вход и роли</h3>
      <p class="muted">
        Регистрация на этом устройстве доступна только по 50 сервисным кодам администратора. Соцсети пока в разработке —
        устройство и ID сохраняются локально.
      </p>
      <div class="login-grid">
        <div class="login-panel">
          <p class="label">Админ-доступ</p>
          <div class="field">
            <label for="adminCode">Секретный код</label>
            <input type="password" id="adminCode" placeholder="Ввести один из 50 кодов" />
          </div>
          <div class="field double">
            <button class="btn primary" id="loginBtn">Подтвердить</button>
            <button class="btn ghost" id="logoutBtn">Сбросить профиль</button>
          </div>
          <p class="tiny muted">Код проверяется локально, случайный набор символов не сработает.</p>
          <p class="tiny" id="loginStatus">—</p>
        </div>
        <div class="login-panel">
          <p class="label">Соцсети</p>
          <div class="social-grid">
            <button class="pill full" data-social="vk">VK — в разработке</button>
            <button class="pill full" data-social="gmail">Gmail — в разработке</button>
            <button class="pill full" data-social="yandex">Yandex ID — в разработке</button>
          </div>
          <p class="tiny muted">Как только интеграции будут готовы, здесь появится полноценный вход через площадки.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="profileModal" aria-hidden="true">
    <div class="modal__dialog modal__dialog--wide" role="dialog" aria-modal="true" aria-labelledby="profileTitle">
      <button class="modal__close" data-close="profileModal" aria-label="Закрыть">×</button>
      <div class="profile-modal">
        <div class="profile-modal__header">
          <div class="avatar avatar--glow" aria-hidden="true">AV</div>
          <div>
            <p class="label">Профиль устройства</p>
            <h3 id="profileTitle">RUZCOIN слушатель</h3>
            <p class="muted tiny" id="profileModalMeta">ID: ID-BA3B1-0d8 · уровень 2 · RUZCOIN: 23</p>
            <p class="tiny" id="profileModalToken">Токен: tok-89cd5f0f-f50a-42f2-bd25-27ff05d2ca65</p>
            <div class="profile-modal__chips">
              <span class="chip">Верифицировано устройством</span>
              <span class="chip chip--glass">Профиль в разработке</span>
            </div>
          </div>
        </div>
        <div class="profile-modal__grid">
          <div class="profile-modal__card">
            <p class="label">О артисте</p>
            <p class="muted">
              AVZALØV — артист и саунд-продюсер. Здесь собираются ранние дропы, сотрудничества и будущие релизы. Биография
              дополняется вместе с новыми релизами.
            </p>
          </div>
          <div class="profile-modal__card">
            <p class="label">Связь и коллаборации</p>
            <div class="contact-links">
              <a href="mailto:avzalov.music@gmail.com" class="pill">Почта</a>
              <a href="https://t.me/avzalov" target="_blank" rel="noreferrer" class="pill">Telegram</a>
              <a href="https://wa.me/79000000000" target="_blank" rel="noreferrer" class="pill">WhatsApp</a>
            </div>
            <p class="tiny muted">Напишите для фитов, менеджмента, букинга и предложений по релизам.</p>
          </div>
          <div class="profile-modal__card profile-modal__card--stack">
            <p class="label">Биография</p>
            <ul class="bio-list">
              <li>Ранний доступ к дропам и экспериментальным версиям треков.</li>
              <li>Чарт обновляется по активности комьюнити и RUZCOIN.</li>
              <li>Профиль хранится локально на устройстве и синхронизируется позже.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="settingsModal" aria-hidden="true">
    <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
      <button class="modal__close" data-close="settingsModal" aria-label="Закрыть">×</button>
      <h3 id="settingsTitle">Настройки профиля</h3>
      <div class="toggle-row">
        <span>Игровой режим</span>
        <input type="checkbox" id="gameToggle" checked />
      </div>
      <div class="toggle-row">
        <span>Уведомления чата</span>
        <input type="checkbox" id="notifyToggle" checked />
      </div>
      <div class="toggle-row">
        <span>Закрепить плеер</span>
        <input type="checkbox" id="dockToggle" checked />
      </div>
      <div class="toggle-row">
        <span>Тёмная тема</span>
        <input type="checkbox" id="themeToggle" checked />
      </div>
      <div class="settings-docs">
        <p class="label">Документы профиля</p>
        <div class="doc-row disabled">Политика конфиденциальности <span class="pill">в разработке</span></div>
        <div class="doc-row disabled">Публичная оферта <span class="pill">в разработке</span></div>
        <div class="doc-row disabled">Согласие на обработку данных <span class="pill">в разработке</span></div>
        <div class="doc-row disabled">Согласие на рассылку <span class="pill">в разработке</span></div>
      </div>
    </div>
  </div>

  <div class="modal" id="chatModal" aria-hidden="true">
    <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="chatTitle">
      <button class="modal__close" data-close="chatModal" aria-label="Закрыть">×</button>
      <div class="section__header">
        <div>
          <h2 id="chatTitle">Чат сообщества</h2>
          <p class="muted">Показываем последние 10 сообщений. Сообщения пользователя подсвечены.</p>
        </div>
      </div>
      <div class="chat-feed" id="chatFeed"></div>
      <form class="chat-form" id="chatForm">
        <input type="text" id="chatInput" placeholder="Напиши сообщение" aria-label="Сообщение" required />
        <button class="btn primary" type="submit">Отправить</button>
      </form>
    </div>
  </div>

  <div class="modal" id="chartModal" aria-hidden="true">
    <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="chartTitleModal">
      <button class="modal__close" data-close="chartModal" aria-label="Закрыть">×</button>
      <div class="section__header">
        <div>
          <h2 id="chartTitleModal">Чарт топ-10</h2>
          <p class="muted">Динамика роста и падения по прослушиваниям и раннему доступу.</p>
        </div>
      </div>
      <div class="chart-modal__list" id="chartList"></div>
    </div>
  </div>

  <div class="modal" id="trackModal" aria-hidden="true">
    <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="trackModalTitle">
      <button class="modal__close" data-close="trackModal" aria-label="Закрыть">×</button>
      <div class="track-modal" id="trackModalBody"></div>
    </div>
  </div>

  <div class="modal" id="newsModal" aria-hidden="true">
    <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="newsTitle">
      <button class="modal__close" data-close="newsModal" aria-label="Закрыть">×</button>
      <h3 id="newsTitle">Новости AVZALØV</h3>
      <div class="news-list" id="newsList"></div>
    </div>
  </div>

  <footer class="site-footer">
    <p>AVZALØV · музыка и проекты. Плеер, чат и роли остаются аккуратными дополнениями.</p>
  </footer>

  <script src="tracks-data.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
